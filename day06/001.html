<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <title>json placeholder 출력</title>
</head>
<body>
  <script>
    // Model View Controller : 데이터, 타임리프 뷰 화면, 컨트롤러

    // 스프링의 ModelAndView 에서
    //          return new ModelAndView("aaa").addObject(데이터); → foward → get 방식 (화면을 보여준다)
    //          return new ModelAndView("redirect:/aaa");        →  redirect → 처리 후 이동

    // REST : 백엔드에서 뷰를 제거, 프론트엔드가 뷰를 담당. 백과 프론트는 일반적으로 JSON 으로 연결
    //        
    //        화면은 프론트가 알아서 만든다
    //        처리 후 이동

    // 요청 주소의 경우
    // https://jsonplaceholder.typicode.com/post?pno=100
    // https://jsonplaceholder.typicode.com/post/100

    // REST 방식은 복수형과 주소 형식 파라미터를 선호
    // /board?bno=11       vs      /boards/11

    // axios 는 AJAX 라이브러리
    // AJAX 가 나오기 전까지 html은 동기적으로 수행

    // 동기 코드의 예
    // 1 + 2 계산 → sum 에 대입 → sum 을 출력 (개발자는 실행 순서를 신경 쓸 필요가 없다)

    const sum = 1+2;
    console.log(sum);

    // AJAX 는 대표적인 비동기 작업
    // 37번째 줄을 병렬로 실행하고, 자바스크립트는 38번쨰 줄로 가버린다
    const response = axios.get('https://jsonplaceholder.typicode.com/post/1');
    console.log(response);
    // 40라인이 완료될 때까지 코드 실행을 멈추자  (비동기를 동기화하자) → aeait
    // await 를 사용하는 코드는 반드시 함수 내부에 위치 → 함수는 async 를 붙인다
    async function fetch() {
      const x = await axios.get('https://jsonplaceholder.typicode.com/post/1');
      // 브라우저가 JSON.parse()를 자동 수행
      console.log(x.data);
    }
</script>
</body>
</html>